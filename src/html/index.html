<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <title>Hello Vrogger!</title>
  </head>
  <body>
    <a-scene fog="type: linear; color: #FFFFFF; far: 70; near: 0">
      <a-assets>
        <a-mixin id="color" material="color: #FFFFFF; metalness: 0; roughness: 0.9"></a-mixin>

        <a-asset-item id="landscape" src="/static/models/landscape.dae"></a-asset-item>
        <a-asset-item id="sedan" src="/static/models/sedan.obj"></a-asset-item>
        <a-asset-item id="light-rail" src="/static/models/light-rail.obj"></a-asset-item>
        <a-asset-item id="racecar" src="/static/models/racecar.obj"></a-asset-item>
        <a-asset-item id="freighter" src="/static/models/freighter.obj"></a-asset-item>

        <a-mixin
          id="car"
          dynamic-body="mass: 1000"
          fixed-rotation
          fix-physics>
        </a-mixin>
        <a-mixin
          id="car-1"
          vehicle="speed: 20"
          obj-model="obj: #sedan"
          transform-model="translate: 10.75 -2 -4"
          geometry="primitive: box; height: 3; width: 3.5; depth: 8.5; translate: 0 1.5 0">
        </a-mixin>
        <a-mixin
          id="car-2"
          vehicle="speed: 14"
          obj-model="obj: #light-rail"
          transform-model="translate: 0 -2 6.5"
          geometry="primitive: box; height: 4; width: 3.5; depth: 32; translate: 0 2 0">
        </a-mixin>
        <a-mixin
          id="car-3"
          vehicle="speed: 22"
          obj-model="obj: #sedan"
          transform-model="translate: 10.75 -2 -4"
          geometry="primitive: box; height: 3; width: 3.5; depth: 8.5; translate: 0 1.5 0">
        </a-mixin>
        <a-mixin
          id="car-4"
          vehicle="speed: 38"
          obj-model="obj: #racecar"
          transform-model="translate: -5.25 -1.25 2; rotation: 0 180 0"
          geometry="primitive: box; height: 2; width: 4; depth: 9.5; translate: 0 1 0">
        </a-mixin>
        <a-mixin
          id="car-5"
          vehicle="speed: 30"
          obj-model="obj: #freighter"
          transform-model="translate: -5 -2.5 -4"
          geometry="primitive: box; height: 4.5; width: 3; depth: 14; translate: 0 2.25 0">
        </a-mixin>

        <a-mixin
          id="wall"
          static-body
          material="opacity: 0">
        </a-mixin>

        <img id="hud-intro" src="static/images/intro.png" />
        <img id="hud-instructions" src="static/images/instructions.png" />
        <img id="hud-dead" src="static/images/dead.png" />
        <img id="hud-win" src="static/images/win.png" />
      </a-assets>

      <a-entity light="type: hemisphere; color: #7EC6FF; groundColor: #FF9CB6; intensity: 0.3"></a-entity>
      <a-entity light="type: point; color: #7EC6FF; intensity: 0.7; decay: 0" position="-100 100 -100"></a-entity>
      <a-entity light="type: point; color: #FF9CB6; intensity: 0.7; decay: 0" position="100 100 100"></a-entity>


      <!-- ground -->
      <a-entity
        collada-model="#landscape"
        mixin="color"
        position="0 0 0"
        rotation="0 90 0">
      </a-entity>
      <a-box mixin="wall" position="0 -50 0" width="100" depth="100" height="100"></a-box>

      <!-- hill walls -->
      <a-box mixin="wall" position="0 0 -25" height="100" width="100" depth="10" goal></a-box>
      <a-box mixin="wall" position="-40 0 -39" height="100" width="10" depth="50"></a-box>
      <a-box mixin="wall" position="40 0 -39" height="100" width="10" depth="50"></a-box>

      <!-- city walls -->
      <a-box mixin="wall" position="-30 0 39" height="100" width="10" depth="50"></a-box>
      <a-box mixin="wall" position="-27 0 43" height="100" width="50" depth="50"></a-box>
      <a-box mixin="wall" position="0 0 48" height="100" width="50" depth="50"></a-box>
      <a-box mixin="wall" position="33 0 43" height="100" width="50" depth="50"></a-box>
      <a-box mixin="wall" position="30 0 39" height="100" width="10" depth="50"></a-box>

      <!-- player -->
      <a-player>
        <a-entity camera="near: 0.1" look-controls>
          <a-hud></a-hud>
        </a-entity>
      </a-player>

      <!-- car spawners -->
      <a-entity
        position="-50 0 10.5"
        rotation="0 90 0"
        spawner="mixin: color car car-1; timeout: 6000">
      </a-entity>
      <a-entity
        position="50 0 5"
        rotation="0 -90 0"
        spawner="mixin: color car car-2; timeout: 8000">
      </a-entity>
      <a-entity
        position="-50 0 0"
        rotation="0 90 0"
        spawner="mixin: color car car-3; timeout: 5000">
      </a-entity>
      <a-entity
        position="50 0 -5"
        rotation="0 -90 0"
        spawner="mixin: color car car-4; timeout: 9000">
      </a-entity>
      <a-entity
        position="-50 0 -10.5"
        rotation="0 90 0"
        spawner="mixin: color car car-5; timeout: 7000">
      </a-entity>
    </a-scene>
  </body>
</html>
